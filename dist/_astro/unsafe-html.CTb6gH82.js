import{v as je,a as De,w as Fe,i as ue}from"./whenAttribute.QhrKdtvk.js";import{g as He}from"./index.8ze02sE4.js";const We=/([\p{Ll}\d])(\p{Lu})/gu,Be=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,ze=/(\d)\p{Ll}|(\p{L})\d/u,qe=/[^\p{L}\d]+/giu,de="$1\0$2",fe="";function Re(t){let e=t.trim();e=e.replace(We,de).replace(Be,de),e=e.replace(qe,"\0");let s=0,i=e.length;for(;"\0"===e.charAt(s);)s++;if(s===i)return[];for(;"\0"===e.charAt(i-1);)i--;return e.slice(s,i).split(/\0/g)}function Je(t){const e=Re(t);for(let t=0;t<e.length;t++){const s=e[t],i=ze.exec(s);if(i){const n=i.index+(i[1]??i[2]).length;e.splice(t,1,s.slice(0,n),s.slice(n))}}return e}function Ve(t,e){const[s,i,n]=Ge(t,e),r=Ze(e?.locale),o=Xe(e?.locale),a=Ke(r,o);return s+i.map(((t,e)=>0===e?r(t):a(t,e))).join("")+n}function Ze(t){return e=>e.toLocaleLowerCase(t)}function Xe(t){return e=>e.toLocaleUpperCase(t)}function Ke(t,e){return(s,i)=>{const n=s[0];return(i>0&&n>="0"&&n<="9"?"_"+n:e(n))+t(s.slice(1))}}function Ge(t,e={}){const s=e.split??(e.separateNumbers?Je:Re),i=e.prefixCharacters??"",n=e.suffixCharacters??"";let r=0,o=t.length;for(;r<t.length;){const e=t.charAt(r);if(!i.includes(e))break;r++}for(;o>r;){const e=o-1,s=t.charAt(e);if(!n.includes(s))break;o=e}return[t.slice(0,r),s(t.slice(r,o)),t.slice(o)]}function pe(t){return Ve(t)}function me(t){const e=t.concat();for(let t=0;t<e.length;++t)for(let s=t+1;s<e.length;++s)e[t]===e[s]&&e.splice(s--,1);return e}var ge,ee,te,z={};function Ye(){if(ge)return z;ge=1,Object.defineProperty(z,"__esModule",{value:!0});const t={seconds:{short:"s",medium:"sec",long:"second"},minutes:{short:"m",medium:"min",long:"minute"},hours:{short:"h",medium:"hr",long:"hour"},days:{short:"d",medium:"day",long:"day"},weeks:{short:"w",medium:"wk",long:"week"},months:{short:"m",medium:"mon",long:"month"},years:{short:"y",medium:"yr",long:"year"}};return z.default=function(e,s={format:"medium"}){if(!["short","medium","long"].includes(s.format))throw new Error("The provided format is incorrect.");const i=(new Date).getTime(),n=e instanceof Date?(i-e.getTime())/1e3:i/1e3-e,r=Math.floor(n),o=Math.floor(r/60),a=Math.floor(o/60),c=Math.floor(a/24),h=Math.floor(c/7),l=Math.floor(c/30),u=Math.floor(c/365);if(r<0)throw new Error("The time difference is negative. The provided timestamp is in the future.");if(0===r)return"now";const d={years:u,months:l,weeks:h,days:c,hours:a,minutes:o,seconds:r},p=Object.keys(d).find((t=>d[t]>0))||"seconds",f=d[p],m="short"===s.format,g=f>1&&!m?"s":"";return`${f}${m?"":" "}${t[p][s.format]}${g} ago`},z}function Qe(t=0){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}function ve(t,e){var s;const i=Object.assign({id:`injected-style-${je()}`,rootNode:void 0},e??{});if(document.querySelector(`#${i.id}`))return;const n=document.createElement("style");if(n.type="text/css",n.setAttribute("id",i.id),n.innerHTML=t,i.rootNode)i.rootNode.appendChild(n);else{const t=document.querySelector('head link[rel="stylesheet"]');t?null===(s=t.parentElement)||void 0===s||s.insertBefore(n,t):document.head.appendChild(n)}return n}Ye();let J,q=!1;try{null===(ee=document?.addEventListener)||void 0===ee||ee.call(document,"wheel",(t=>{q=!0,clearTimeout(J),J=setTimeout((()=>{q=!1}),200)})),null===(te=document?.addEventListener)||void 0===te||te.call(document,"touchmove",(t=>{q=!0,clearTimeout(J),J=setTimeout((()=>{q=!1}),200)}))}catch{}var ye,V={exports:{}};function et(){return ye||(ye=1,t=V,e=V.exports,function(){const s=Function.prototype.toString;function i(t){if("function"!=typeof t)return!1;if(/^class[\s{]/.test(s.call(t)))return!0;const e=function(t){return s.call(t).replace(/^[^{]*{\s*/,"").replace(/\s*}[^}]*$/,"")}(t);return/classCallCheck\(/.test(e)||/TypeError\("Cannot call a class as a function"\)/.test(e)}t.exports&&(e=t.exports=i),e.isClass=i}()),V.exports;var t,e}function tt({onlyFirst:t=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}et(),tt();var _e,Z={exports:{}},st=Z.exports;function it(){return _e||(_e=1,Z.exports=function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},n=function(){function t(s){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=s,this.iframes=i,this.exclude=n,this.iframesTimeout=r}return s(t,[{key:"getContexts",value:function(){var t=[];return(typeof this.ctx>"u"||!this.ctx?[]:NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]).forEach((function(e){var s=t.filter((function(t){return t.contains(e)})).length>0;-1===t.indexOf(e)&&!s&&t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=void 0;try{var n=t.contentWindow;if(i=n.document,!n||!i)throw new Error("iframe inaccessible")}catch{s()}i&&e(i)}},{key:"isIframeBlank",value:function(t){var e="about:blank",s=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&s!==e&&s}},{key:"observeIframeLoad",value:function(t,e,s){var i=this,n=!1,r=null,o=function o(){if(!n){n=!0,clearTimeout(r);try{i.isIframeBlank(t)||(t.removeEventListener("load",o),i.getIframeContents(t,e,s))}catch{s()}}};t.addEventListener("load",o),r=setTimeout(o,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,s){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,s):this.getIframeContents(t,e,s):this.observeIframeLoad(t,e,s)}catch{s()}}},{key:"waitForIframes",value:function(t,e){var s=this,i=0;this.forEachIframe(t,(function(){return!0}),(function(t){i++,s.waitForIframes(t.querySelector("html"),(function(){--i||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,s,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=e.querySelectorAll("iframe"),a=o.length,c=0;o=Array.prototype.slice.call(o);var h=function(){--a<=0&&r(c)};a||h(),o.forEach((function(e){t.matches(e,n.exclude)?h():n.onIframeReady(e,(function(t){s(e)&&(c++,i(t)),h()}),h)}))}},{key:"createIterator",value:function(t,e,s){return document.createNodeIterator(t,e,s,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,s){if(t.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,s,i){var n=!1,r=!1;return i.forEach((function(t,e){t.val===s&&(n=e,r=t.handled)})),this.compareNodeIframe(t,e,s)?(!1!==n||r?!1!==n&&!r&&(i[n].handled=!0):i.push({val:s,handled:!0}),!0):(!1===n&&i.push({val:s,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,s,i){var n=this;t.forEach((function(t){t.handled||n.getIframeContents(t.val,(function(t){n.createInstanceOnIframe(t).forEachNode(e,s,i)}))}))}},{key:"iterateThroughNodes",value:function(t,e,s,i,n){for(var r=this,o=this.createIterator(e,t,i),a=[],c=[],h=void 0,l=void 0,u=function(){var t=r.getIteratorNode(o);return l=t.prevNode,h=t.node};u();)this.iframes&&this.forEachIframe(e,(function(t){return r.checkIframeFilter(h,l,t,a)}),(function(e){r.createInstanceOnIframe(e).forEachNode(t,(function(t){return c.push(t)}),i)})),c.push(h);c.forEach((function(t){s(t)})),this.iframes&&this.handleOpenIframes(a,t,s,i),n()}},{key:"forEachNode",value:function(t,e,s){var i=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=this.getContexts(),o=r.length;o||n(),r.forEach((function(r){var a=function(){i.iterateThroughNodes(t,r,e,s,(function(){--o<=0&&n()}))};i.iframes?i.waitForIframes(r,a):a()}))}}],[{key:"matches",value:function(t,e){var s="string"==typeof e?[e]:e,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(i){var n=!1;return s.every((function(e){return!i.call(t,e)||(n=!0,!1)})),n}return!1}}]),t}(),r=function(){function r(t){e(this,r),this.ctx=t,this.ie=!1;var s=window.navigator.userAgent;(s.indexOf("MSIE")>-1||s.indexOf("Trident")>-1)&&(this.ie=!0)}return s(r,[{key:"log",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",i=this.opt.log;this.opt.debug&&"object"===(typeof i>"u"?"undefined":t(i))&&"function"==typeof i[s]&&i[s]("mark.js: "+e)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t)}},{key:"createSynonymsRegExp",value:function(t){var e=this.opt.synonyms,s=this.opt.caseSensitive?"":"i",i=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(n):this.escapeStr(n),a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(r):this.escapeStr(r);""!==o&&""!==a&&(t=t.replace(new RegExp("("+this.escapeStr(o)+"|"+this.escapeStr(a)+")","gm"+s),i+"("+this.processSynomyms(o)+"|"+this.processSynomyms(a)+")"+i))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,s){var i=s.charAt(e+1);return/[(|)\\]/.test(i)||""===i?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],s=this.opt.ignorePunctuation;return Array.isArray(s)&&s.length&&e.push(this.escapeStr(s.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("["+e.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",s=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],i=[];return t.split("").forEach((function(n){s.every((function(s){if(-1!==s.indexOf(n)){if(i.indexOf(s)>-1)return!1;t=t.replace(new RegExp("["+s+"]","gm"+e),"["+s+"]"),i.push(s)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,s="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿",i=this.opt.accuracy,n="string"==typeof i?i:i.value,r="string"==typeof i?[]:i.limiters,o="";switch(r.forEach((function(t){o+="|"+e.escapeStr(t)})),n){case"partially":default:return"()("+t+")";case"complementary":return"()([^"+(o="\\s"+(o||this.escapeStr(s)))+"]*"+t+"[^"+o+"]*)";case"exactly":return"(^|\\s"+o+")("+t+")(?=$|\\s"+o+")"}}},{key:"getSeparatedKeywords",value:function(t){var e=this,s=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===s.indexOf(t)&&s.push(t)})):t.trim()&&-1===s.indexOf(t)&&s.push(t)})),{keywords:s.sort((function(t,e){return e.length-t.length})),length:s.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var s=[],i=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var n=e.callNoMatchOnInvalidRanges(t,i),r=n.start,o=n.end;n.valid&&(t.start=r,t.length=o-r,s.push(t),i=o)})),s}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var s=void 0,i=void 0,n=!1;return t&&typeof t.start<"u"?(i=(s=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&i-e>0&&i-s>0?n=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(t)),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:s,end:i,valid:n}}},{key:"checkWhitespaceRanges",value:function(t,e,s){var i=void 0,n=!0,r=s.length,o=e-r,a=parseInt(t.start,10)-o;return(i=(a=a>r?r:a)+parseInt(t.length,10))>r&&(i=r,this.log("End range automatically set to the max value of "+r)),a<0||i-a<0||a>r||i>r?(n=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):""===s.substring(a,i).replace(/\s+/g,"")&&(n=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:a,end:i,valid:n}}},{key:"getTextNodes",value:function(t){var e=this,s="",i=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){i.push({start:s.length,end:(s+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:s,nodes:i})}))}},{key:"matchesExclude",value:function(t){return n.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,s){var i=this.opt.element?this.opt.element:"mark",n=t.splitText(e),r=n.splitText(s-e),o=document.createElement(i);return o.setAttribute("data-markjs","true"),this.opt.className&&o.setAttribute("class",this.opt.className),o.textContent=n.textContent,n.parentNode.replaceChild(o,n),r}},{key:"wrapRangeInMappedTextNode",value:function(t,e,s,i,n){var r=this;t.nodes.every((function(o,a){var c=t.nodes[a+1];if(typeof c>"u"||c.start>e){if(!i(o.node))return!1;var h=e-o.start,l=(s>o.end?o.end:s)-o.start,u=t.value.substr(0,o.start),d=t.value.substr(l+o.start);if(o.node=r.wrapRangeInTextNode(o.node,h,l),t.value=u+d,t.nodes.forEach((function(e,s){s>=a&&(t.nodes[s].start>0&&s!==a&&(t.nodes[s].start-=l),t.nodes[s].end-=l)})),s-=l,n(o.node.previousSibling,o.start),!(s>o.end))return!1;e=o.end}return!0}))}},{key:"wrapMatches",value:function(t,e,s,i,n){var r=this,o=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){e=e.node;for(var n=void 0;null!==(n=t.exec(e.textContent))&&""!==n[o];)if(s(n[o],e)){var a=n.index;if(0!==o)for(var c=1;c<o;c++)a+=n[c].length;e=r.wrapRangeInTextNode(e,a,a+n[o].length),i(e.previousSibling),t.lastIndex=0}})),n()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,s,i,n){var r=this,o=0===e?0:e+1;this.getTextNodes((function(e){for(var a=void 0;null!==(a=t.exec(e.value))&&""!==a[o];){var c=a.index;if(0!==o)for(var h=1;h<o;h++)c+=a[h].length;var l=c+a[o].length;r.wrapRangeInMappedTextNode(e,c,l,(function(t){return s(a[o],t)}),(function(e,s){t.lastIndex=s,i(e)}))}n()}))}},{key:"wrapRangeFromIndex",value:function(t,e,s,i){var n=this;this.getTextNodes((function(r){var o=r.value.length;t.forEach((function(t,i){var a=n.checkWhitespaceRanges(t,o,r.value),c=a.start,h=a.end;a.valid&&n.wrapRangeInMappedTextNode(r,c,h,(function(s){return e(s,t,r.value.substring(c,h),i)}),(function(e){s(e,t)}))})),i()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,s=document.createDocumentFragment();t.firstChild;)s.appendChild(t.removeChild(t.firstChild));e.replaceChild(s,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var s=this;this.opt=e,this.log('Searching with expression "'+t+'"');var i=0,n="wrapMatches",r=function(t){i++,s.opt.each(t)};this.opt.acrossElements&&(n="wrapMatchesAcrossElements"),this[n](t,this.opt.ignoreGroups,(function(t,e){return s.opt.filter(e,t,i)}),r,(function(){0===i&&s.opt.noMatch(t),s.opt.done(i)}))}},{key:"mark",value:function(t,e){var s=this;this.opt=e;var i=0,n="wrapMatches",r=this.getSeparatedKeywords("string"==typeof t?[t]:t),o=r.keywords,a=r.length,c=this.opt.caseSensitive?"":"i",h=function t(e){var r=new RegExp(s.createRegExp(e),"gm"+c),h=0;s.log('Searching with expression "'+r+'"'),s[n](r,1,(function(t,n){return s.opt.filter(n,e,i,h)}),(function(t){h++,i++,s.opt.each(t)}),(function(){0===h&&s.opt.noMatch(e),o[a-1]===e?s.opt.done(i):t(o[o.indexOf(e)+1])}))};this.opt.acrossElements&&(n="wrapMatchesAcrossElements"),0===a?this.opt.done(i):h(o[0])}},{key:"markRanges",value:function(t,e){var s=this;this.opt=e;var i=0,n=this.checkRanges(t);n&&n.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(n)),this.wrapRangeFromIndex(n,(function(t,e,i,n){return s.opt.filter(t,e,i,n)}),(function(t,e){i++,s.opt.each(t,e)}),(function(){s.opt.done(i)}))):this.opt.done(i)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var s=this.opt.element?this.opt.element:"*";s+="[data-markjs]",this.opt.className&&(s+="."+this.opt.className),this.log('Removal selector "'+s+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var i=n.matches(t,s),r=e.matchesExclude(t);return!i||r?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=i({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new n(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),r}();function o(t){var e=this,s=new r(t);return this.mark=function(t,i){return s.mark(t,i),e},this.markRegExp=function(t,i){return s.markRegExp(t,i),e},this.markRanges=function(t,i){return s.markRanges(t,i),e},this.unmark=function(t){return s.unmark(t),e},this}return o}()),Z.exports}var nt=it();const Lt=He(nt);var $e,se={};function rt(){return $e||($e=1,t=se,function(){var e={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(t){return function(t,i){var n,r,o,a,c,h,l,u,d,p=1,f=t.length,m="";for(r=0;r<f;r++)if("string"==typeof t[r])m+=t[r];else if("object"==typeof t[r]){if((a=t[r]).keys)for(n=i[p],o=0;o<a.keys.length;o++){if(null==n)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[o],a.keys[o-1]));n=n[a.keys[o]]}else n=a.param_no?i[a.param_no]:i[p++];if(e.not_type.test(a.type)&&e.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),e.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(s("[sprintf] expecting number but found %T",n));switch(e.number.test(a.type)&&(u=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}e.json.test(a.type)?m+=n:(!e.number.test(a.type)||u&&!a.sign?d="":(d=u?"+":"-",n=n.toString().replace(e.sign,"")),h=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",l=a.width-(d+n).length,c=a.width&&l>0?h.repeat(l):"",m+=a.align?d+n+c:"0"===h?d+c+n:c+d+n)}return m}(function(t){if(n[t])return n[t];for(var s,i=t,r=[],o=0;i;){if(null!==(s=e.text.exec(i)))r.push(s[0]);else if(null!==(s=e.modulo.exec(i)))r.push("%");else{if(null===(s=e.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(s[2]){o|=1;var a=[],c=s[2],h=[];if(null===(h=e.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(h[1]);""!==(c=c.substring(h[0].length));)if(null!==(h=e.key_access.exec(c)))a.push(h[1]);else{if(null===(h=e.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(h[1])}s[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:s[0],param_no:s[1],keys:s[2],sign:s[3],pad_char:s[4],align:s[5],width:s[6],precision:s[7],type:s[8]})}i=i.substring(s[0].length)}return n[t]=r}(t),arguments)}function i(t,e){return s.apply(null,[t].concat(e||[]))}var n=Object.create(null);t.sprintf=s,t.vsprintf=i,typeof window<"u"&&(window.sprintf=s,window.vsprintf=i)}()),se;var t}rt();const X=globalThis,oe=X.ShadowRoot&&(void 0===X.ShadyCSS||X.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Te=Symbol(),Ee=new WeakMap;let ot=class{constructor(t,e,s){if(this._$cssResult$=!0,s!==Te)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(oe&&void 0===t){const s=void 0!==e&&1===e.length;s&&(t=Ee.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),s&&Ee.set(e,t))}return t}toString(){return this.cssText}};const at=t=>new ot("string"==typeof t?t:t+"",void 0,Te),ct=(t,e)=>{if(oe)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const s of e){const e=document.createElement("style"),i=X.litNonce;void 0!==i&&e.setAttribute("nonce",i),e.textContent=s.cssText,t.appendChild(e)}},we=oe?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return at(e)})(t):t,{is:lt,defineProperty:ht,getOwnPropertyDescriptor:ut,getOwnPropertyNames:dt,getOwnPropertySymbols:ft,getPrototypeOf:pt}=Object,Y=globalThis,xe=Y.trustedTypes,mt=xe?xe.emptyScript:"",gt=Y.reactiveElementPolyfillSupport,j=(t,e)=>t,K={toAttribute(t,e){switch(e){case Boolean:t=t?mt:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch{s=null}}return s}},ae=(t,e)=>!lt(t,e),Se={attribute:!0,type:String,converter:K,reflect:!1,useDefault:!1,hasChanged:ae};Symbol.metadata??=Symbol("metadata"),Y.litPropertyMetadata??=new WeakMap;let P=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=Se){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const s=Symbol(),i=this.getPropertyDescriptor(t,s,e);void 0!==i&&ht(this.prototype,t,i)}}static getPropertyDescriptor(t,e,s){const{get:i,set:n}=ut(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:i,set(e){const r=i?.call(this);n?.call(this,e),this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Se}static _$Ei(){if(this.hasOwnProperty(j("elementProperties")))return;const t=pt(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(j("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(j("properties"))){const t=this.properties,e=[...dt(t),...ft(t)];for(const s of e)this.createProperty(s,t[s])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,s]of e)this.elementProperties.set(t,s)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const s=this._$Eu(t,e);void 0!==s&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const t of s)e.unshift(we(t))}else void 0!==t&&e.push(we(t));return e}static _$Eu(t,e){const s=e.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const s of e.keys())this.hasOwnProperty(s)&&(t.set(s,this[s]),delete this[s]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ct(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,s){this._$AK(t,s)}_$ET(t,e){const s=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,s);if(void 0!==i&&!0===s.reflect){const n=(void 0!==s.converter?.toAttribute?s.converter:K).toAttribute(e,s.type);this._$Em=t,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$Em=null}}_$AK(t,e){const s=this.constructor,i=s._$Eh.get(t);if(void 0!==i&&this._$Em!==i){const t=s.getPropertyOptions(i),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:K;this._$Em=i,this[i]=n.fromAttribute(e,t.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(t,e,s){if(void 0!==t){const i=this.constructor,n=this[t];if(s??=i.getPropertyOptions(t),!((s.hasChanged??ae)(n,e)||s.useDefault&&s.reflect&&n===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,s))))return;this.C(t,e,s)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:s,reflect:i,wrapped:n},r){s&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??e??this[t]),!0!==n||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||s||(e=void 0),this._$AL.set(t,e)),!0===i&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,s]of t){const{wrapped:t}=s,i=this[e];!0!==t||this._$AL.has(e)||void 0===i||this.C(e,void 0,s,i)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}};P.elementStyles=[],P.shadowRootOptions={mode:"open"},P[j("elementProperties")]=new Map,P[j("finalized")]=new Map,gt?.({ReactiveElement:P}),(Y.reactiveElementVersions??=[]).push("2.1.0");const ce=globalThis,G=ce.trustedTypes,be=G?G.createPolicy("lit-html",{createHTML:t=>t}):void 0,Oe="$lit$",I=`lit$${Math.random().toFixed(9).slice(2)}$`,Me="?"+I,vt=`<${Me}>`,O=document,F=()=>O.createComment(""),H=t=>null===t||"object"!=typeof t&&"function"!=typeof t,le=Array.isArray,yt=t=>le(t)||"function"==typeof t?.[Symbol.iterator],ie="[ \t\n\f\r]",U=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ae=/-->/g,Ce=/>/g,R=RegExp(`>|${ie}(?:([^\\s"'>=/]+)(${ie}*=${ie}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),ke=/'/g,Ne=/"/g,Pe=/^(?:script|style|textarea|title)$/i,_t=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),Dt=_t(1),M=Symbol.for("lit-noChange"),x=Symbol.for("lit-nothing"),Ie=new WeakMap,T=O.createTreeWalker(O,129);function Le(t,e){if(!le(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==be?be.createHTML(e):e}const $t=(t,e)=>{const s=t.length-1,i=[];let n,r=2===e?"<svg>":3===e?"<math>":"",o=U;for(let e=0;e<s;e++){const s=t[e];let a,c,h=-1,l=0;for(;l<s.length&&(o.lastIndex=l,c=o.exec(s),null!==c);)l=o.lastIndex,o===U?"!--"===c[1]?o=Ae:void 0!==c[1]?o=Ce:void 0!==c[2]?(Pe.test(c[2])&&(n=RegExp("</"+c[2],"g")),o=R):void 0!==c[3]&&(o=R):o===R?">"===c[0]?(o=n??U,h=-1):void 0===c[1]?h=-2:(h=o.lastIndex-c[2].length,a=c[1],o=void 0===c[3]?R:'"'===c[3]?Ne:ke):o===Ne||o===ke?o=R:o===Ae||o===Ce?o=U:(o=R,n=void 0);const u=o===R&&t[e+1].startsWith("/>")?" ":"";r+=o===U?s+vt:h>=0?(i.push(a),s.slice(0,h)+Oe+s.slice(h)+I+u):s+I+(-2===h?e:u)}return[Le(t,r+(t[s]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),i]};class W{constructor({strings:t,_$litType$:e},s){let i;this.parts=[];let n=0,r=0;const o=t.length-1,a=this.parts,[c,h]=$t(t,e);if(this.el=W.createElement(c,s),T.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(i=T.nextNode())&&a.length<o;){if(1===i.nodeType){if(i.hasAttributes())for(const t of i.getAttributeNames())if(t.endsWith(Oe)){const e=h[r++],s=i.getAttribute(t).split(I),o=/([.?@])?(.*)/.exec(e);a.push({type:1,index:n,name:o[2],strings:s,ctor:"."===o[1]?wt:"?"===o[1]?xt:"@"===o[1]?St:Q}),i.removeAttribute(t)}else t.startsWith(I)&&(a.push({type:6,index:n}),i.removeAttribute(t));if(Pe.test(i.tagName)){const t=i.textContent.split(I),e=t.length-1;if(e>0){i.textContent=G?G.emptyScript:"";for(let s=0;s<e;s++)i.append(t[s],F()),T.nextNode(),a.push({type:2,index:++n});i.append(t[e],F())}}}else if(8===i.nodeType)if(i.data===Me)a.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf(I,t+1));)a.push({type:7,index:n}),t+=I.length-1}n++}}static createElement(t,e){const s=O.createElement("template");return s.innerHTML=t,s}}function L(t,e,s=t,i){if(e===M)return e;let n=void 0!==i?s._$Co?.[i]:s._$Cl;const r=H(e)?void 0:e._$litDirective$;return n?.constructor!==r&&(n?._$AO?.(!1),void 0===r?n=void 0:(n=new r(t),n._$AT(t,s,i)),void 0!==i?(s._$Co??=[])[i]=n:s._$Cl=n),void 0!==n&&(e=L(t,n._$AS(t,e.values),n,i)),e}class Et{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:s}=this._$AD,i=(t?.creationScope??O).importNode(e,!0);T.currentNode=i;let n=T.nextNode(),r=0,o=0,a=s[0];for(;void 0!==a;){if(r===a.index){let e;2===a.type?e=new B(n,n.nextSibling,this,t):1===a.type?e=new a.ctor(n,a.name,a.strings,this,t):6===a.type&&(e=new bt(n,this,t)),this._$AV.push(e),a=s[++o]}r!==a?.index&&(n=T.nextNode(),r++)}return T.currentNode=O,i}p(t){let e=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class B{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,s,i){this.type=2,this._$AH=x,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=L(this,t,e),H(t)?t===x||null==t||""===t?(this._$AH!==x&&this._$AR(),this._$AH=x):t!==this._$AH&&t!==M&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):yt(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==x&&H(this._$AH)?this._$AA.nextSibling.data=t:this.T(O.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:s}=t,i="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=W.createElement(Le(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===i)this._$AH.p(e);else{const t=new Et(i,this),s=t.u(this.options);t.p(e),this.T(s),this._$AH=t}}_$AC(t){let e=Ie.get(t.strings);return void 0===e&&Ie.set(t.strings,e=new W(t)),e}k(t){le(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new B(this.O(F()),this.O(F()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class Q{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,s,i,n){this.type=1,this._$AH=x,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=x}_$AI(t,e=this,s,i){const n=this.strings;let r=!1;if(void 0===n)t=L(this,t,e,0),r=!H(t)||t!==this._$AH&&t!==M,r&&(this._$AH=t);else{const i=t;let o,a;for(t=n[0],o=0;o<n.length-1;o++)a=L(this,i[s+o],e,o),a===M&&(a=this._$AH[o]),r||=!H(a)||a!==this._$AH[o],a===x?t=x:t!==x&&(t+=(a??"")+n[o+1]),this._$AH[o]=a}r&&!i&&this.j(t)}j(t){t===x?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class wt extends Q{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===x?void 0:t}}class xt extends Q{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==x)}}class St extends Q{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){if((t=L(this,t,e,0)??x)===M)return;const s=this._$AH,i=t===x&&s!==x||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,n=t!==x&&(s===x||i);i&&this.element.removeEventListener(this.name,this,s),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class bt{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){L(this,t)}}const At=ce.litHtmlPolyfillSupport;At?.(W,B),(ce.litHtmlVersions??=[]).push("3.3.0");const Ct=(t,e,s)=>{const i=s?.renderBefore??e;let n=i._$litPart$;if(void 0===n){const t=s?.renderBefore??null;i._$litPart$=n=new B(e.insertBefore(F(),t),t,void 0,s??{})}return n._$AI(t),n},he=globalThis;let D=class extends P{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Ct(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return M}};D._$litElement$=!0,D.finalized=!0,he.litElementHydrateSupport?.({LitElement:D});const kt=he.litElementPolyfillSupport;kt?.({LitElement:D}),(he.litElementVersions??=[]).push("4.2.0");const Nt={attribute:!0,type:String,converter:K,reflect:!1,hasChanged:ae},It=(t=Nt,e,s)=>{const{kind:i,metadata:n}=s;let r=globalThis.litPropertyMetadata.get(n);if(void 0===r&&globalThis.litPropertyMetadata.set(n,r=new Map),"setter"===i&&((t=Object.create(t)).wrapped=!0),r.set(s.name,t),"accessor"===i){const{name:i}=s;return{set(s){const n=e.get.call(this);e.set.call(this,s),this.requestUpdate(i,n,t)},init(e){return void 0!==e&&this.C(i,void 0,t,e),e}}}if("setter"===i){const{name:i}=s;return function(s){const n=this[i];e.call(this,s),this.requestUpdate(i,n,t)}}throw Error("Unsupported decorator location: "+i)};function C(t){return(e,s)=>"object"==typeof s?It(t,e,s):((t,e,s)=>{const i=e.hasOwnProperty(s);return e.constructor.createProperty(s,t),i?Object.getOwnPropertyDescriptor(e,s):void 0})(t,e,s)}function Ht(t){return C({...t,state:!0,attribute:!1})}var k=function(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o},ne=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):function(t){return t instanceof s?t:new s((function(e){e(t)}))}(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};class w extends D{get state(){var t;const e=this.stateId||this.id;if(this.saveState&&e)try{return JSON.parse(null!==(t=localStorage.getItem(e))&&void 0!==t?t:"{}")}catch{}return this._state}set state(t){Object.assign(this._state,t);const e=this.stateId||this.id;this.saveState&&e&&localStorage.setItem(e,JSON.stringify(this._state))}static define(t,e={},s={}){var i;if(!t)throw new Error(`You have to specify a tagName to the ${this.name}.define method...`);w.setDefaultProps(t,e);const n=null!==(i=s.window)&&void 0!==i?i:window;n.customElements.get(t.toLowerCase())||n.customElements.define(t.toLowerCase(),class extends(this){})}static setDefaultProps(t,e){(t=Array.isArray(t)?t:[t]).forEach((t=>{var s;this._defaultProps[t]=Object.assign(Object.assign({},null!==(s=this._defaultProps[t])&&void 0!==s?s:{}),e)}))}injectStyle(t,e=this.tagName){-1===this.constructor._injectedStyles.indexOf(e)&&(this.constructor._injectedStyles.push(e),ve(t,{id:e}))}static getDefaultProps(t){var e,s;return Object.assign(Object.assign({},null!==(e=this._defaultProps["*"])&&void 0!==e?e:{}),null!==(s=this._defaultProps[t])&&void 0!==s?s:{})}constructor(t,e){var s,i,n,r,o;super(),this.id=void 0,this.lnf=!1,this.name="",this.verbose=!1,this.activeWhen=["inViewport"],this.mountWhen="direct",this.prefixEvent=!0,this.adoptStyle=!0,this.saveState=!1,this.stateId="",this.shadowDom=!1,this.classesSchema="slim",this.avoidNameClass=!1,this._internalName=this.tagName.toLowerCase(),this._shouldUpdate=!1,this._listenersMap=new Map,this._state={},this._LitElementMounted=!1,t&&(this._internalName=t),this.setAttribute("id",null!==(s=this.id)&&void 0!==s?s:`s-${Math.round(9999*Math.random())}`);const a=null===(i=this.firstUpdated)||void 0===i?void 0:i.bind(this);this.firstUpdated=()=>ne(this,void 0,void 0,(function*(){const t=new MutationObserver((e=>{t.disconnect(),this.classList.add(...this.cls("")),t.observe(this,{childList:!0,attributeFilter:["class"]})}));t.observe(this,{attributes:!0,attributeFilter:["class"]}),a&&(yield a())}));const c=null===(n=this.shouldUpdate)||void 0===n?void 0:n.bind(this);this.shouldUpdate=()=>!(c&&!c())&&this._shouldUpdate;const h=Object.assign(Object.assign(Object.assign({},w.getDefaultProps(t.toLowerCase())),w.getDefaultProps(this.tagName.toLowerCase())),e??{}),l=null!==(o=null!==(r=this.getAttribute("mountWhen"))&&void 0!==r?r:h.mountWhen)&&void 0!==o?o:"direct";this._waitAndExecute(l,(()=>{this._mount()}))}update(t){super.update(t),this.classList.add(...this.cls(""))}connectedCallback(){const t=w.getDefaultProps(this.tagName.toLowerCase());for(let[e,s]of Object.entries(t))this[e]=s;for(let[t,e]of this._listenersMap.entries())e.length&&e.forEach((e=>{t.addEventListener(e.type,e.listener)}));this.classList.add(...this.cls("")),!1===this.shadowDom&&(this.createRenderRoot=()=>this);const e=this._getDocumentFromElement(this);document!==e&&this.constructor.styles&&ve(this.constructor.styles,{rootNode:e}),super.connectedCallback()}setState(t){this.state=Object.assign(Object.assign({},this.state),t),this.requestUpdate()}log(...t){if(this.verbose){let e=[];e.push(`[${this.tagName.toLowerCase()}]`),this.id&&this.id!==this.tagName.toLocaleLowerCase()&&e.push(this.id),e=[...e,...t],console.log(...e)}}_getDocumentFromElement(t){for(;t.parentNode;)t=t.parentNode;return t}addEventListenerOn(t,e,s,i){var n;if(!t)return;let r=null!==(n=this._listenersMap.get(t))&&void 0!==n?n:[];r.push({listener:s,type:e}),t!==this&&t.addEventListener(e,s,i),this._listenersMap.set(t,r)}dispatch(t,e){const s=Object.assign({$elm:this,bubbles:!0,cancelable:!0,detail:{}},e??{});let i=[],n=t;i.push(t),t.startsWith(`${this._internalName}.`)||(n=`${this._internalName}.${t}`,i.push(n),n=`${pe(this._internalName)}.${t}`,i.push(n)),t.startsWith(`${this.tagName}.`)||(n=`${this.tagName.toLowerCase()}.${t}`,i.push(n),n=`${pe(this.tagName.toLowerCase())}.${t}`,i.push(n)),i=me(i);for(let t of i)this.log(`Dispatching event "${t}"`),s.$elm.dispatchEvent(new CustomEvent(t,s))}_adoptStyleInShadowRoot(t,e){return De(t,e)}internalCls(t=""){return t?`${this._internalName.toLowerCase()}${t&&!t.match(/^(_{1,2}|-)/)?"-":""}${t}`:this._internalName}cls(t="",e=this.classesSchema){let s="",i=[];return t?("full"===e&&`${this._internalName.toLowerCase()}`,t.split(" ").forEach((t=>{i.push(`${this._internalName.toLowerCase()}${t&&!t.match(/^(_{1,2}|-)/)?"-":""}${t}`),"full"===e?i.push(`${this.tagName.toLowerCase()}${t&&!t.match(/^(_{1,2}|-)/)?"-":""}${t}`):i.push(`${t&&!t.match(/^(_{1,2}|-)/)?"-":""}${t}`),this.name&&this.name!==this.tagName.toLowerCase()&&(this.avoidNameClass||("full"===e?i.push(`${this.name.toLowerCase()}${t&&!t.match(/^(_{1,2}|-)/)?"-":""}${t}`):i.push(`${t&&!t.match(/^(_{1,2}|-)/)?"-":""}${t}`)))})),i=i.map((t=>t.replace(/[\-]+/,"-"))),i=me(i),i.toString=function(){return this.join(" ")},i):(i.push(this.tagName.toLowerCase()),this._internalName!==t&&i.push(this._internalName.toLowerCase()),this.name&&this.name!==this.tagName.toLowerCase()&&(this.avoidNameClass||i.push(this.name.toLowerCase())),i.toString=function(){return this.join(" ")},i)}_waitAndExecute(t,e){return new Promise(((s,i)=>ne(this,void 0,void 0,(function*(){Array.isArray(t)||(t=[t]),t.includes("direct")?yield Qe():yield Fe(this,t),e?.(this),s(this)}))))}isActive(){return!(this.activeWhen.includes("inViewport")&&!ue(this))}isMounted(){return this._LitElementMounted||this.hasAttribute("mounted")}isInViewport(){return ue(this)}mount(){}_mount(){return ne(this,void 0,void 0,(function*(){var t,e;return this.log("Mounting..."),this.lnf&&this.classList.add("-lnf"),this.mount&&"function"==typeof this.mount&&(yield this.mount()),this._shouldUpdate=!0,this.requestUpdate(),this.injectStyle(null!==(e=null===(t=this.constructor.styles)||void 0===t?void 0:t.cssText)&&void 0!==e?e:"",this.tagName),this.adoptStyle&&this.shadowRoot&&(yield this._adoptStyleInShadowRoot(this.shadowRoot)),this.setAttribute("mounted","true"),this._LitElementMounted=!0,!0}))}disconnectedCallback(){for(let[t,e]of this._listenersMap.entries())e.length&&e.forEach((e=>{t.removeEventListener(e.type,e.listener)}));super.disconnectedCallback()}}w._keepInjectedCssBeforeStylesheetLinksInited=!1,w._defaultProps={},w._injectedStyles=[],k([C({type:String})],w.prototype,"id",void 0),k([C({type:Boolean})],w.prototype,"lnf",void 0),k([C({type:String})],w.prototype,"name",void 0),k([C({type:Boolean})],w.prototype,"verbose",void 0),k([C({type:Array})],w.prototype,"activeWhen",void 0),k([C({type:String})],w.prototype,"mountWhen",void 0),k([C({type:Boolean})],w.prototype,"prefixEvent",void 0),k([C({type:Boolean})],w.prototype,"adoptStyle",void 0),k([C({type:Boolean})],w.prototype,"saveState",void 0),k([C({type:String})],w.prototype,"stateId",void 0),k([C({type:Boolean})],w.prototype,"shadowDom",void 0),k([C({type:String})],w.prototype,"classesSchema",void 0),k([C({type:Boolean})],w.prototype,"avoidNameClass",void 0);const Rt={CHILD:2},Tt=t=>(...e)=>({_$litDirective$:t,values:e});class Ot{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,s){this._$Ct=t,this._$AM=e,this._$Ci=s}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}class re extends Ot{constructor(t){if(super(t),this.it=x,t.type!==Rt.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===x||null==t)return this._t=void 0,this.it=t;if(t===M)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const e=[t];return e.raw=e,this._t={_$litType$:this.constructor.resultType,strings:e,values:[]}}}re.directiveName="unsafeHTML",re.resultType=1;const Wt=Tt(re);export{w as L,Lt as M,Ve as c,C as n,Wt as o,Ht as r,me as u,Dt as x};