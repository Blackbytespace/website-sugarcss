---
title: 'querySelectorLive'
namespace: '@blackbyte.sugar.js.dom.query'
description: 'Observe the dom to get all the elements that matches a passed css selector at any point in time. Be warned that this use the mutation observer API and will monitor all the document for new nodes. Make sure to use it when you don&#39;t have the chance to use the custom elements API instead'
type: 'Function'
status: 'stable'
since: '1.0.0'
platform: '[{"name":"js","description":""}]'
author: '{"name":"Olivier Bossel","email":"olivier.bossel@gmail.com","url":"https://blackbyte.space"}'
---
<div class="docmap -mdx">
# querySelectorLive
<div class="docmap_metas">
<div class="docmap_type"><span class="docmap_type-label">Type:</span><span class="docmap_type-value">Function</span></div>
<div class="docmap_status"><span class="docmap_status-label">Status:</span><span class="docmap_status-value -stable">stable</span></div>
<div class="docmap_since"><span class="docmap_since-label">Since:</span><span class="docmap_since-value">1.0.0</span></div>
<div class="docmap_platform"><span class="docmap_platform-label">Platform:</span><span class="docmap_platform-value -js">js</span></div>
</div>
<div class="docmap_namespace">@blackbyte.sugar.js.dom.query</div>
<div class="docmap_description typo-lead typo-format">
Observe the dom to get all the elements that matches a passed css selector at any point in time.
Be warned that this use the mutation observer API and will monitor all the document for new nodes. Make sure to use it
when you don&#39;t have the chance to use the custom elements API instead
</div>
<div class="docmap_params">
## Params
<ol class="docmap_list">
<li class="docmap_item">
<span class="docmap_name">selector<span class="docmap_required">*</span></span><span class="docmap_default">-</span> <span class="docmap_type">String</span>
<p class="docmap_description">The css selector that we are interested in</p>
</li>
<li class="docmap_item">
<span class="docmap_name">cb<span class="docmap_required">*</span></span><span class="docmap_default">-</span> <span class="docmap_type">Function</span>
<p class="docmap_description">The function to call with the newly added node</p>
</li>
<li class="docmap_item">
<span class="docmap_name">settings</span><span class="docmap_default">&lcub;&rcub;</span> <span class="docmap_type">TQuerySelectorLiveSettings</span>
<p class="docmap_description">An optional settings object to specify things like the rootNode to monitor&comma; etc&period;&period;&period;</p>
</li>
</ol>
</div>
<div class="docmap_return">
## Return
<ol class="docmap_list">
<li class="docmap_item">
<span class="docmap_default">-</span><span class="docmap_type">TQuerySelectorLiveApi</span>
<p class="docmap_description">An object with a cancel method to stop the query listening</p>
</li>
</ol>
</div>
<div class="docmap_examples">
## Example
<s-code language="js" header>
```js
import { querySelectorLive } from '@blackbyte/sugar/dom'
const query = querySelectorLive('.my-cool-item', (node, api) => {
	    // do something here with the detected node
     // call api.cancel if you want to stop listening for this selector
     api.cancel();
});
// cancel the query manually when needed
query.cancel();
```
</s-code>
</div>
<div class="docmap_settings">
## Settings
<ol class="docmap_list">
<li class="docmap_item">
<span class="docmap_name">rootNode</span><span class="docmap_default">document</span> <span class="docmap_type">HTMLElement</span>
<p class="docmap_description">The root node from where to observe childs</p>
</li>
<li class="docmap_item">
<span class="docmap_name">afterFirst<span class="docmap_required">*</span></span><span class="docmap_default">-</span> <span class="docmap_type">Function</span>
<p class="docmap_description">A function to call after the first node has been found</p>
</li>
<li class="docmap_item">
<span class="docmap_name">firstOnly</span><span class="docmap_default">false</span> <span class="docmap_type">Boolean</span>
<p class="docmap_description">If true, the query will stop after the first node has been found</p>
</li>
<li class="docmap_item">
<span class="docmap_name">when<span class="docmap_required">*</span></span><span class="docmap_default">-</span> <span class="docmap_type">TWhenTrigger</span>
<p class="docmap_description">A when trigger to wait for before executing the callback. Can be direct, inViewport, nearViewport, enterViewport, outOfViewport, interact, visible, domReady, stylesheetsReady or animationEnd</p>
</li>
<li class="docmap_item">
<span class="docmap_name">disconnectedCallback<span class="docmap_required">*</span></span><span class="docmap_default">-</span> <span class="docmap_type">Function</span>
<p class="docmap_description">A function to call when a node is disconnected from the dom</p>
</li>
</ol>
</div>
<div class="docmap_author">
## Author
<ul class="docmap_list">
<li class="docmap_item">
<span class="docmap_name">Olivier Bossel</span>
<span class="docmap_email">olivier.bossel@gmail.com</span>
<a href="https://blackbyte.space" target="_blank" class="docmap_url">https://blackbyte.space</a>
</li>
</ul>
</div>
</div>